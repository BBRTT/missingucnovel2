<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>ì²« ë²ˆì§¸ ì†Œì„¤</title>

  <style>

    html, body {
  overflow: hidden;  /* ìŠ¤í¬ë¡¤ ê¸ˆì§€ */
}

  /* --------------------------
   ì „ì²´ í˜ì´ì§€
--------------------------- */
body {
  font-family: 'Courier New', Courier, monospace; /* ì‚¬ê°ì§„ ê¸€ê¼´ */
  font-size: 30px;               /* ê¸°ë³¸ ë³¸ë¬¸ ê¸€ì”¨ í¬ê¸° */
  line-height: 1.8;              /* ì¤„ ê°„ê²© ë„‰ë„‰íˆ */
  padding: 40px;
  cursor: pointer;

  display: flex;
  flex-direction: column;
  align-items: center;           /* ê¸€ ê°€ìš´ë° ì •ë ¬ */
  background-color: #fafafa;     /* ì€ì€í•œ ë°°ê²½ìƒ‰ */
}

/* --------------------------
   ì†Œì„¤ ì˜ì—­
--------------------------- */
#story {
  max-width: 600px;              /* ê°€ë…ì„± ì¢‹ì€ ìµœëŒ€ ë„ˆë¹„ */
  text-align: center;            /* ê¸€ ê°€ìš´ë° ì •ë ¬ */
}

/* --------------------------
   ê¸€ ë¼ì¸
--------------------------- */
.line {
  opacity: 0;                     /* ê¸°ë³¸ ìˆ¨ê¹€ */
  transition: opacity 0.4s ease;  /* ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ */
  margin-bottom: 20px;            /* ë¬¸ë‹¨ ê°„ê²© */
}

.line.show {
  opacity: 1;                     /* ë³´ì—¬ì§ˆ ë•Œ */
}

.line.hide {
  opacity: 0;                     /* ì‚¬ë¼ì§ˆ ë•Œ */
}

/* --------------------------
   ì œëª©
--------------------------- */
h1 {
  font-family: 'Courier New', Courier, monospace; /* ì œëª©ë„ ë™ì¼ í°íŠ¸ */
  font-size: 60px;                /* í¬ê¸° í¬ê²Œ */
  text-align: center;             /* ê°€ìš´ë° ì •ë ¬ */
  margin-bottom: 20px;            /* ë²„íŠ¼ê³¼ ê°„ê²© */
  color: #333;                    /* ì§„í•œ ê¸€ì”¨ */
}

/* --------------------------
   ë²„íŠ¼
--------------------------- */
button {
  margin: 20px 0 40px;
  padding: 10px 24px;
  font-size: 16px;
  border-radius: 999px;          /* ë™ê·¸ë—ê²Œ */
  border: 1px solid #ccc;
  background: white;
  cursor: pointer;
  transition: background 0.3s ease;
}

button:hover {
  background: #f2f2f2;
}

/* --------------------------
   ê°•ì¡°ìš© ì´ëª¨ì§€/ìŠ¤íƒ€ì¼
--------------------------- */
h1 span.emoji {
  font-size: 1.2em;               /* ì´ëª¨ì§€ ì¡°ê¸ˆ ë” í¬ê²Œ */
  margin: 0 5px;
}


  </style>
</head>

<body>

<h1>ğŸ”¥ í…ŒìŠ¤íŠ¸ ì¤‘ ğŸ”¥</h1>

<button id="startBtn">BGM</button>
<audio id="bgm1" src="ScreenRecording_12-28-2025-05-32-44_1.mp3"></audio>
<audio id="bgm2" src="Classic 2.m4a"></audio>

<div id="story">
  <p class="line disappear">ì•ˆë…•í•˜ì„¸ìš”! ì˜ ì§€ë‚´ì…¨ë‚˜ìš”?</p>
  <p class="line disappear">ì˜ˆì „ì˜ ì „ ìœ ì”¨ë…¸ë²¨ ì‘ê°€ê°€ ë˜ëŠ”ê²Œ ê¿ˆì´ì—ˆì–´ìš”. ê·¸ë¦¬ê³  ì•„ì§ë„ ê·¸ ê¿ˆì„ ìŠì§€ ëª»í•˜ê³  ê²°êµ­ì—” ì´ë ‡ê²Œ ë§Œë“¤ì–´ë²„ë ¸ë‹µë‹ˆë‹¤.^^.</p>
  <p class="line disappear">ê·¸ë•Œì˜ ê°ì„±ì´ ì˜ ë¬»ì–´ë‚˜ëŠ” ê¸€ì´ ë˜ê¸¸ ë°”ë¼ë©´ì„œ ì¨ë´…ë‹ˆë‹¤. ê·¸ëŸ¼ ì¬ë°Œê²Œ ë´ì£¼ì„¸ìš”!</p>
  <p class="line">*</p>
  <p class="line">*</p>
  <p class="line">*</p>
  <p class="line">*</p>
  <p class="line">*</p>
  <p class="line bgm2-start"> ì²«ë¬¸ì¥</p>
  
</div>

<script>
  // ------------------------------
  // requestAnimationFrame ê¸°ë°˜ ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ
  // ------------------------------
  function fadeInSmooth(audio, duration = 1500) {
    audio.pause();
    audio.currentTime = 0;
    audio.volume = 0;
    audio.play();
    const startTime = performance.now();
    
    function step(now) {
      const t = Math.min((now - startTime) / duration, 1);
      audio.volume = Math.sin(t * Math.PI / 2); // ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ ì¸
      if (t < 1) requestAnimationFrame(step);
    }
    
    requestAnimationFrame(step);
  }

  function fadeOutSmooth(audio, duration = 1000, callback) {
    const startTime = performance.now();
    const initialVolume = audio.volume;
    
    function step(now) {
      const t = Math.min((now - startTime) / duration, 1);
      audio.volume = initialVolume * Math.cos(t * Math.PI / 2); // ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ ì•„ì›ƒ
      if (t < 1) requestAnimationFrame(step);
      else {
        audio.pause();
        audio.currentTime = 0;
        if (callback) callback();
      }
    }
    
    requestAnimationFrame(step);
  }

  // ------------------------------
  // ê¸€ + ìŒì•… ë³€ìˆ˜
  // ------------------------------
  const lines = document.querySelectorAll(".line");
  let index = 0;
  const bgm1 = document.getElementById("bgm1");
  const bgm2 = document.getElementById("bgm2");
  const startBtn = document.getElementById("startBtn");

  // ------------------------------
  // BGM ì‹œì‘ ë²„íŠ¼
  // ------------------------------
  startBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    fadeInSmooth(bgm1, 1500);
  });

  // ------------------------------
  // í™”ë©´ í´ë¦­ ì´ë²¤íŠ¸
  // ------------------------------
  document.body.addEventListener("click", () => {
    if (index >= lines.length) return;

    const currentLine = lines[index];

    // ì´ì „ ê¸€ í˜ì´ë“œ ì•„ì›ƒ
    const toDisappear = document.querySelectorAll(".disappear");
    toDisappear.forEach(line => {
      if (line !== currentLine) {
        line.classList.remove("show");
        line.classList.add("hide");
      }
    });

    // í˜„ì¬ ê¸€ ë“±ì¥
    currentLine.classList.add("show");
    currentLine.classList.remove("hide");

    // ìŒì•… ì „í™˜
    if (currentLine.classList.contains("bgm2-start")) {
      fadeOutSmooth(bgm1, 1000, () => fadeInSmooth(bgm2, 1500));
    }

    index++;
  });
</script>





</body>
</html>
